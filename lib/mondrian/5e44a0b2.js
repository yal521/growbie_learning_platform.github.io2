"use strict";(self.webpackChunk_articulate_mondrian_bundles=self.webpackChunk_articulate_mondrian_bundles||[]).push([[982],{4247:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(1182),o=n.n(i),r=n(2806),a=n.n(r)()(o());a.push([e.id,".hXRin0tc .tiptap {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.hXRin0tc .tiptap :is(h1, h2) {\n  line-height: inherit;\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.hXRin0tc .tiptap :is(p, h1, h2) {\n  margin: 0;\n}\n\n.hXRin0tc .tiptap strong {\n  font-weight: bold;\n}\n\n.hXRin0tc .tiptap em {\n  font-style: italic;\n}\n\n.hXRin0tc .tiptap s {\n  text-decoration: line-through;\n}\n\n.hXRin0tc .tiptap u {\n  text-decoration: underline;\n}\n","",{version:3,sources:["webpack://./../../packages/core/src/styles/tiptap.module.css"],names:[],mappings:"AAAA;EACE,uCAAuC;EACvC,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,0CAA0C;EAC1C,kBAAkB;EAClB,oBAAoB;AACtB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,0BAA0B;AAC5B",sourcesContent:[".textItem :global(.tiptap) {\n  font-family: var(--mon-theme-font-body);\n  height: 100%;\n  width: 100%;\n}\n\n.textItem :global(.tiptap :is(h1, h2)) {\n  line-height: inherit;\n  font-family: var(--mon-theme-font-heading);\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n.textItem :global(.tiptap :is(p, h1, h2)) {\n  margin: 0;\n}\n\n.textItem :global(.tiptap strong) {\n  font-weight: bold;\n}\n\n.textItem :global(.tiptap em) {\n  font-style: italic;\n}\n\n.textItem :global(.tiptap s) {\n  text-decoration: line-through;\n}\n\n.textItem :global(.tiptap u) {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]),a.locals={textItem:"hXRin0tc"};const s=a},8982:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Kt});var i=n(6218);function o(e){(0,i.append_styles)(e,"svelte-su3qhz",".mondrian__img-1XHDzr{height:100%;width:100%}")}function r(e){let t,n;return{c(){t=(0,i.element)("div"),(0,i.attr)(t,"aria-label",n=e[0].alt),(0,i.attr)(t,"class","mondrian__img-1XHDzr"),(0,i.attr)(t,"role","img")},m(e,n){(0,i.insert)(e,t,n)},p(e,[o]){1&o&&n!==(n=e[0].alt)&&(0,i.attr)(t,"aria-label",n)},i:i.noop,o:i.noop,d(e){e&&(0,i.detach)(t)}}}function a(e,t,n){let{item:i}=t;return e.$$set=e=>{"item"in e&&n(0,i=e.item)},[i]}n(9763);class s extends i.SvelteComponent{constructor(e){super(),(0,i.init)(this,e,a,r,i.safe_not_equal,{item:0},o)}}const l=s;var d=n(7268),c=n(6195);class u{constructor(e){this.parse=e=>this.zod.parse(e),this.is=e=>this.zod.safeParse(e).success,this.assert=e=>{this.parse(e)},this.zod=e}}const m=new u(c.Ay.object({name:c.Ay.enum(["fadeInUp"]),delay:c.Ay.number().min(0),duration:c.Ay.number().positive(),easing:c.Ay.enum(["ease","ease-in","ease-out","ease-in-out","linear","step-start","step-end"])})),p=new u(c.Ay.object({id:c.Ay.string(),path:c.Ay.string(),width:c.Ay.number().optional(),height:c.Ay.number().optional()})),_=new u(c.Ay.object({unit:c.Ay.enum(["px","%","auto","fr"]),value:c.Ay.number()})),g=new u(c.Ay.object({applied:c.Ay.boolean().default(!1),type:c.Ay.enum(["none","fill"]).default("none"),color:c.Ay.string().default("#000000"),opacity:c.Ay.number().default(1),style:c.Ay.enum(["solid","dashed","dotted"]).default("solid"),width:_.zod.default({value:1,unit:"px"})})),f=new u(c.Ay.object({assetId:c.Ay.string().optional(),color:c.Ay.string().optional(),opacity:c.Ay.number().min(0).max(1).default(1)})),y=new u(f.zod.extend({type:c.Ay.literal("color"),color:f.zod.shape.color.unwrap().default("#e4e4e4")})),b=new u(f.zod.extend({type:c.Ay.literal("image"),assetId:f.zod.shape.assetId.unwrap()})),h=new u(f.zod.extend({type:c.Ay.literal("none")})),v=new u(c.Ay.discriminatedUnion("type",[y.zod,b.zod,h.zod])),$=new u(c.Ay.discriminatedUnion("type",[y.zod,h.zod])),A=new u(c.Ay.object({id:c.Ay.string(),clonedFromId:c.Ay.string().optional(),state:c.Ay.string(),visible:c.Ay.boolean()})),w=new u(c.Ay.object({top:_.zod.default({value:0,unit:"px"}),left:_.zod.default({value:0,unit:"px"}),bottom:_.zod.default({value:0,unit:"px"}),right:_.zod.default({value:0,unit:"px"})})),x=new u(c.Ay.object({id:c.Ay.string(),type:c.Ay.literal("tiptap")})),C="default",z=c.Ay.object({id:c.Ay.string().default(C),name:c.Ay.string().max(128),children:c.Ay.array(A.zod).optional(),text:x.zod.optional(),textVerticalAlign:c.Ay.enum(["top","middle","bottom"]).default("top"),x:_.zod.default({value:0,unit:"px"}),y:_.zod.default({value:0,unit:"px"}),position:c.Ay.enum(["absolute"]).default("absolute"),width:_.zod.default({value:100,unit:"%"}),height:_.zod.default({value:100,unit:"%"}),padding:w.zod,fill:v.zod,overlay:$.zod,aspectRatioLocked:c.Ay.boolean().default(!1),clipPath:c.Ay.literal("ellipse").optional(),border:g.zod,borderRadius:c.Ay.object({applied:c.Ay.boolean().default(!1),topLeft:_.zod.default({value:0,unit:"px"}),topRight:_.zod.default({value:0,unit:"px"}),bottomRight:_.zod.default({value:0,unit:"px"}),bottomLeft:_.zod.default({value:0,unit:"px"})}),entranceAnimation:m.zod.nullable().optional()}),I=new u(z),k=(new u(z.required({children:!0})),z.partial().required({id:!0,name:!0})),S=new u(k),E=new u(k.required({children:!0})),H="changeState",q="changeVisibility",M=new u(c.Ay.object({id:c.Ay.string(),event:c.Ay.enum(["click","hover"])}).and(c.Ay.discriminatedUnion("action",[c.Ay.object({action:c.Ay.literal(H),targetId:c.Ay.string(),targetState:c.Ay.string().default(C)}),c.Ay.object({action:c.Ay.literal(q),targetId:c.Ay.string(),targetVisibility:c.Ay.boolean()})]))),L=new u(c.Ay.object({id:c.Ay.string(),blockumentId:c.Ay.string(),clonedFromId:c.Ay.string().optional(),parentId:c.Ay.string(),type:c.Ay.string(),name:c.Ay.string().max(128),tagName:c.Ay.enum(["div","figure","figcaption","blockquote"]).default("div"),locked:c.Ay.boolean().default(!1),authoringVisible:c.Ay.boolean().default(!0),initialVisible:c.Ay.boolean().default(!0),initialState:c.Ay.string().default(C),states:c.Ay.intersection(c.Ay.object({default:I.zod}),c.Ay.record(S.zod)),triggers:c.Ay.array(M.zod),assets:c.Ay.record(p.zod).default({}).optional(),removed:c.Ay.boolean().default(!1)})),R=(new u(c.Ay.object({id:c.Ay.string(),title:c.Ay.string().max(255),children:c.Ay.array(A.zod).max(1)})),new u(L.zod.extend({type:c.Ay.literal("group"),states:c.Ay.intersection(c.Ay.object({default:I.zod.required({children:!0})}),c.Ay.record(E.zod.required({children:!0})))}))),U=new u(L.zod.extend({type:c.Ay.literal("image"),alt:c.Ay.string()})),j=new u(L.zod.extend({type:c.Ay.literal("shape")})),N=new u(L.zod.extend({type:c.Ay.literal("text")}));new u(c.Ay.discriminatedUnion("type",[R.zod,U.zod,j.zod,N.zod]));var Z,B;!function(e){e.Blockuments="blockuments",e.Items="items"}(Z||(Z={})),Z.Blockuments,Z.Items,function(e){e.APP="app",e.BLOCKUMENT="blockument",e.COURSE="course"}(B||(B={})),n(9840);var T=n(4198),D=n(4717),V=n(2359),P=n(31),X=n(2740),K=n(1430);const Y=/([a-z%]+)\s*$/i,O=T.YY.create({name:"textSize",addGlobalAttributes:()=>[{types:["textStyle"],attributes:{textSize:{default:14,parseHTML(e){const t=e.style.fontSize,n=parseFloat(t);if(isNaN(n))return null;const i=Y.exec(t);if(null==i)return null;switch(i[1]){case"rem":return Math.round(10*n);case"px":return Math.round(n);default:return null}},renderHTML:e=>({style:`font-size: ${e.textSize/10}rem`})}}}],addCommands:()=>({setTextSize:e=>({chain:t})=>t().setMark("textStyle",{textSize:e}).run()})}),J=T.YY.create({name:"lineHeight",addGlobalAttributes:()=>[{types:["paragraph"],attributes:{lineHeight:{default:1.2,parseHTML(e){const t=e.style.lineHeight,n=parseFloat(t);return isNaN(n)?null:n},renderHTML:e=>({style:`line-height: ${e.lineHeight};`})}}}],addCommands:()=>({setLineHeight:e=>({commands:t})=>t.updateAttributes("paragraph",{lineHeight:e})})});D.A.configure({types:["textStyle"]});const F=[K.A.configure({history:!1,heading:{levels:[1,2]}}),V.A.configure({types:["heading","paragraph"]}),P.A,D.A,O,J,X.A];(0,T._w)(F);var W=n(1120);const G=new Map,Q={...(0,W.writable)(G),add:(e,t)=>(G.has(e)||G.set(e,function(e){let t,n,i;e.subscribe((e=>{t=e}));const o=(0,W.writable)(t);o.subscribe((e=>{n=i??t,i=e}));const r={...o,revert(){r.set(n)},reset(){r.set(t)}};return r}(t)),G.get(e)),get(e){if(!G.has(e))throw new Error(`No state found for item ${e}`);return G.get(e)},resetAll(){[...G.values()].forEach((e=>{e.reset()}))}},ee=new Map,te={...(0,W.writable)(ee),add:(e,t)=>(ee.set(e,function(e){let t;e.subscribe((e=>{t=e}));const n={...(0,W.writable)(t),show(){n.set(!0)},hide(){n.set(!1)},reset(){n.set(t)}};return n}(t)),ee.get(e)),get(e){if(!ee.has(e))throw new Error(`No visibility found for item ${e}`);return ee.get(e)},resetAll(){[...ee.values()].forEach((e=>{e.reset()}))}};function ne(e,t,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}matchMedia("(prefers-reduced-motion)");const ie=new WeakMap;function oe(e,t,n=Object.keys(e.states.default)){const i=e.states.default,o=structuredClone(e.states[t]);return n.reduce(((e,t)=>(e[t]||(e[t]=structuredClone(i[t])),e)),o)}new IntersectionObserver((e=>{for(const t of e){if(!t.isIntersecting)continue;const e=ie.get(t.target);null!=e&&"paused"===e.playState&&e.play()}}),{threshold:.3});const re=({value:e,unit:t})=>{switch(t){case"auto":return"auto";case"px":return e/10+"rem";default:return(({value:e,unit:t})=>`${e}${t}`)({value:e,unit:t})}};function ae(e){(0,i.append_styles)(e,"svelte-bbp0xy",".mondrian__clipped-KfJDq2{border-radius:inherit;display:flex;height:100%;inset:0;position:absolute;width:100%;z-index:-1}")}function se(e){let t,n;const o=e[7].default,r=(0,i.create_slot)(o,e,e[6],null);return{c(){t=(0,i.element)("div"),r&&r.c(),(0,i.attr)(t,"class","mondrian__clipped-KfJDq2"),(0,i.set_style)(t,"clip-path",e[0])},m(e,o){(0,i.insert)(e,t,o),r&&r.m(t,null),n=!0},p(e,[a]){r&&r.p&&(!n||64&a)&&(0,i.update_slot_base)(r,o,e,e[6],n?(0,i.get_slot_changes)(o,e[6],a,null):(0,i.get_all_dirty_from_scope)(e[6]),null),1&a&&(0,i.set_style)(t,"clip-path",e[0])},i(e){n||((0,i.transition_in)(r,e),n=!0)},o(e){(0,i.transition_out)(r,e),n=!1},d(e){e&&(0,i.detach)(t),r&&r.d(e)}}}function le(e,t,n){let o,r,a,s,{$$slots:l={},$$scope:d}=t,{item:c}=t;const u=Q.get(c.id);return(0,i.component_subscribe)(e,u,(e=>n(5,s=e))),e.$$set=e=>{"item"in e&&n(2,c=e.item),"$$scope"in e&&n(6,d=e.$$scope)},e.$$.update=()=>{36&e.$$.dirty&&n(4,o=c.states[s]),16&e.$$.dirty&&n(3,r="ellipse"===o.clipPath),8&e.$$.dirty&&n(0,a=r?"ellipse(50% 50%)":void 0)},[a,u,c,r,o,s,d,l]}class de extends i.SvelteComponent{constructor(e){super(),(0,i.init)(this,e,le,se,i.safe_not_equal,{item:2},ae)}}const ce=de;function ue(e){(0,i.append_styles)(e,"svelte-1cx7a5",".mondrian__fill-QARoMt{background-position:center;background-size:cover;inset:0;position:absolute;border-radius:inherit}")}function me(e){let t;return{c(){t=(0,i.element)("div"),(0,i.attr)(t,"class","mondrian__fill-QARoMt"),(0,i.set_style)(t,"background-color",e[1]),(0,i.set_style)(t,"background-image",e[2]),(0,i.set_style)(t,"opacity",e[0].opacity)},m(e,n){(0,i.insert)(e,t,n)},p(e,n){2&n&&(0,i.set_style)(t,"background-color",e[1]),4&n&&(0,i.set_style)(t,"background-image",e[2]),1&n&&(0,i.set_style)(t,"opacity",e[0].opacity)},d(e){e&&(0,i.detach)(t)}}}function pe(e){let t,n=(null!=e[1]||null!=e[2])&&me(e);return{c(){n&&n.c(),t=(0,i.empty)()},m(e,o){n&&n.m(e,o),(0,i.insert)(e,t,o)},p(e,[i]){null!=e[1]||null!=e[2]?n?n.p(e,i):(n=me(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:i.noop,o:i.noop,d(e){e&&(0,i.detach)(t),n&&n.d(e)}}}function _e(e,t,n){let{assets:i}=t,{fill:o}=t,r=null,a=null;return e.$$set=e=>{"assets"in e&&n(3,i=e.assets),"fill"in e&&n(0,o=e.fill)},e.$$.update=()=>{if(9&e.$$.dirty)switch(o?.type){case"color":n(1,r=o.color),n(2,a=null);break;case"image":{n(1,r=null);const e=i?.[o.assetId];n(2,a=null==e?null:`url("${function(e){return`assets/${e.path}`}(e)}")`);break}default:n(1,r=n(2,a=null))}},[o,r,a,i]}class ge extends i.SvelteComponent{constructor(e){super(),(0,i.init)(this,e,_e,pe,i.safe_not_equal,{assets:3,fill:0},ue)}}const fe=ge;function ye(e){(0,i.append_styles)(e,"svelte-66apau",".mondrian__item-1HUzZq{--mon-item-bounding-box-color:var(--mon-color-border-selected);--mon-item-bounding-box-inset:calc(-1 * var(--mon-item-border-width));position:absolute;z-index:1;height:max-content;width:max-content;pointer-events:var(--mon-item-pointer-events)}.mondrian__item-1HUzZq::before{content:'';pointer-events:none;position:absolute;inset:var(--mon-item-bounding-box-inset, 0);outline:0 solid transparent;transition:outline 0.15s ease-in-out}.mondrian__item-1HUzZq.mondrian__--mon-dragging-10pCY8{cursor:grab;opacity:0.3}.mondrian__item-1HUzZq.mondrian__--root-3h02pP{position:relative}.mondrian__item-1HUzZq.mondrian__--hidden-2d_DKH{display:none}.mondrian__item-1HUzZq:is(\n      .mondrian__--hover-3W4zna,\n      .mondrian__--selected-28e9xp,\n      .mondrian__--dropping-into-J8efi5,\n      [data-selectable-children]\n    )::before{outline:var(--bounding-box-thickness, 0) var(--bounding-box-style, solid)\n      var(--mon-item-bounding-box-color)}.mondrian__item-1HUzZq.mondrian__--hover-3W4zna{--bounding-box-thickness:var(--art-border-width-lg)}.mondrian__item-1HUzZq.mondrian__--selected-28e9xp{--bounding-box-thickness:var(--art-border-width-md)}.mondrian__item-1HUzZq.mondrian__--dropping-into-J8efi5{--bounding-box-thickness:var(--art-border-width-md);--bounding-box-style:dashed}.mondrian__item-1HUzZq[data-selectable-children]::before{--bounding-box-thickness:var(--art-border-width-lg);--bounding-box-style:dashed}.mondrian__item-1HUzZq.mondrian__--clickable-2Dyf8h{cursor:pointer}.mondrian__item-1HUzZq:is(.mondrian__--selected-28e9xp):hover{cursor:grab}.mondrian__item-1HUzZq:is(.mondrian__--selected-28e9xp):active{cursor:grabbing}.mondrian__item-1HUzZq[data-mon-disabled],.mondrian__item-1HUzZq[data-mon-disabled] *{pointer-events:none !important}.mondrian__item-1HUzZq.mondrian__--debug-TFH4i5::after{content:attr(data-parent-id) '>' attr(data-item-id);position:absolute;bottom:0;right:0;overflow:hidden;white-space:nowrap;padding:var(--art-space-0-25) var(--art-space-0-5);font:1.1rem / 1 monospace;background-color:#f006;backdrop-filter:grayscale(100%) blur(3px);color:#000;border-radius:var(--art-border-radius-sm) 0 0 0;pointer-events:none}.mondrian__item-1HUzZq.mondrian__--preview-item-2NnT6e{--mon-item-pointer-events:none;position:static}.mondrian__item-1HUzZq:focus-visible{outline:none}.mon-app:not(.mon-meta-key-down, .mon-preview-active)\n    :is(\n      .mondrian__item-1HUzZq[data-item-type='group'] .mondrian__item-1HUzZq:not([data-selectable], .mondrian__--selected-28e9xp)\n    ){--mon-item-pointer-events:none}.mondrian__item-1HUzZq[data-selectable]{--mon-item-pointer-events:auto}")}const be=e=>({}),he=e=>({}),ve=e=>({}),$e=e=>({});function Ae(e){let t,n;return t=new fe({props:{assets:e[0].assets,fill:e[23]}}),{c(){(0,i.create_component)(t.$$.fragment)},m(e,o){(0,i.mount_component)(t,e,o),n=!0},p(e,n){const i={};1&n[0]&&(i.assets=e[0].assets),8388608&n[0]&&(i.fill=e[23]),t.$set(i)},i(e){n||((0,i.transition_in)(t.$$.fragment,e),n=!0)},o(e){(0,i.transition_out)(t.$$.fragment,e),n=!1},d(e){(0,i.destroy_component)(t,e)}}}function we(e){let t,n;return t=new fe({props:{assets:e[0].assets,fill:e[22]}}),{c(){(0,i.create_component)(t.$$.fragment)},m(e,o){(0,i.mount_component)(t,e,o),n=!0},p(e,n){const i={};1&n[0]&&(i.assets=e[0].assets),4194304&n[0]&&(i.fill=e[22]),t.$set(i)},i(e){n||((0,i.transition_in)(t.$$.fragment,e),n=!0)},o(e){(0,i.transition_out)(t.$$.fragment,e),n=!1},d(e){(0,i.destroy_component)(t,e)}}}function xe(e){let t,n,o,r=null!=e[23]&&Ae(e),a=null!=e[22]&&we(e);return{c(){r&&r.c(),t=(0,i.space)(),a&&a.c(),n=(0,i.empty)()},m(e,s){r&&r.m(e,s),(0,i.insert)(e,t,s),a&&a.m(e,s),(0,i.insert)(e,n,s),o=!0},p(e,o){null!=e[23]?r?(r.p(e,o),8388608&o[0]&&(0,i.transition_in)(r,1)):(r=Ae(e),r.c(),(0,i.transition_in)(r,1),r.m(t.parentNode,t)):r&&((0,i.group_outros)(),(0,i.transition_out)(r,1,1,(()=>{r=null})),(0,i.check_outros)()),null!=e[22]?a?(a.p(e,o),4194304&o[0]&&(0,i.transition_in)(a,1)):(a=we(e),a.c(),(0,i.transition_in)(a,1),a.m(n.parentNode,n)):a&&((0,i.group_outros)(),(0,i.transition_out)(a,1,1,(()=>{a=null})),(0,i.check_outros)())},i(e){o||((0,i.transition_in)(r),(0,i.transition_in)(a),o=!0)},o(e){(0,i.transition_out)(r),(0,i.transition_out)(a),o=!1},d(e){e&&((0,i.detach)(t),(0,i.detach)(n)),r&&r.d(e),a&&a.d(e)}}}function Ce(e){let t,n,o,r,a,s,l,d,c,u,m,p,_,g,f,y,b,h;n=new ce({props:{item:e[0],$$slots:{default:[xe]},$$scope:{ctx:e}}});const v=e[30].before,$=(0,i.create_slot)(v,e,e[36],$e),A=[e[17]];var w=e[2];function x(e,t){let n={};for(let e=0;e<A.length;e+=1)n=(0,i.assign)(n,A[e]);return void 0!==t&&131072&t[0]&&(n=(0,i.assign)(n,(0,i.get_spread_update)(A,[(0,i.get_spread_object)(e[17])]))),{props:n}}w&&(a=(0,i.construct_svelte_component)(w,x(e)));const C=e[30].after,z=(0,i.create_slot)(C,e,e[36],he);let I=[{"data-item-type":l=e[0].type},{"data-item-id":d=e[0].id.slice(0,5)},{"data-parent-id":c=e[0].parentId.slice(0,5)},{"data-mon-disabled":u=!!e[7]||void 0},{"data-mon-item-id":m=e[0].id},{"data-selectable-children":p=e[12]||void 0},{"data-selectable":_=e[13]||void 0},{class:"mondrian__item-1HUzZq"},{tabindex:"-1"}],k={};for(let e=0;e<I.length;e+=1)k=(0,i.assign)(k,I[e]);return{c(){t=(0,i.element)(e[0].tagName??"div"),(0,i.create_component)(n.$$.fragment),o=(0,i.space)(),$&&$.c(),r=(0,i.space)(),a&&(0,i.create_component)(a.$$.fragment),s=(0,i.space)(),z&&z.c(),(0,i.set_dynamic_element_data)(e[0].tagName??"div")(t,k),(0,i.toggle_class)(t,"mondrian__--debug-TFH4i5",!1),(0,i.toggle_class)(t,"mondrian__--mon-dragging-10pCY8",e[8]),(0,i.toggle_class)(t,"mondrian__--root-3h02pP",e[1]),(0,i.toggle_class)(t,"mondrian__--hidden-2d_DKH",!e[11]),(0,i.toggle_class)(t,"mondrian__--selected-28e9xp",e[5]),(0,i.toggle_class)(t,"mondrian__--dropping-into-J8efi5",e[9]),(0,i.toggle_class)(t,"mondrian__--hover-3W4zna",e[6]),(0,i.toggle_class)(t,"mondrian__--preview-item-2NnT6e",e[4]),(0,i.toggle_class)(t,"mondrian__--clickable-2Dyf8h",e[16]),(0,i.set_style)(t,"--mon-item-border-width",e[14].border?.applied?`${e[14].border?.width.value}px`:"0px"),(0,i.set_style)(t,"padding",e[21]),(0,i.set_style)(t,"width",e[27]),(0,i.set_style)(t,"min-height",e[26]),(0,i.set_style)(t,"border",e[20]),(0,i.set_style)(t,"border-radius",e[19]),(0,i.set_style)(t,"top",e[24]),(0,i.set_style)(t,"left",e[25]),(0,i.set_style)(t,"z-index",e[18])},m(l,d){(0,i.insert)(l,t,d),(0,i.mount_component)(n,t,null),(0,i.append)(t,o),$&&$.m(t,null),(0,i.append)(t,r),a&&(0,i.mount_component)(a,t,null),(0,i.append)(t,s),z&&z.m(t,null),e[35](t),y=!0,b||(h=[(0,i.listen)(t,"mousedown",e[31]),(0,i.listen)(t,"click",e[32]),(0,i.listen)(t,"keydown",e[33]),(0,i.listen)(t,"keyup",e[34]),(0,i.action_destroyer)(g=e[10].call(null,t,{itemId:e[0].id,enabled:!e[7]})),(0,i.action_destroyer)(f=e[3].call(null,t,e[0]))],b=!0)},p(e,o){const r={};if(1&o[0]&&(r.item=e[0]),12582913&o[0]|32&o[1]&&(r.$$scope={dirty:o,ctx:e}),n.$set(r),$&&$.p&&(!y||32&o[1])&&(0,i.update_slot_base)($,v,e,e[36],y?(0,i.get_slot_changes)(v,e[36],o,ve):(0,i.get_all_dirty_from_scope)(e[36]),$e),4&o[0]&&w!==(w=e[2])){if(a){(0,i.group_outros)();const e=a;(0,i.transition_out)(e.$$.fragment,1,0,(()=>{(0,i.destroy_component)(e,1)})),(0,i.check_outros)()}w?(a=(0,i.construct_svelte_component)(w,x(e,o)),(0,i.create_component)(a.$$.fragment),(0,i.transition_in)(a.$$.fragment,1),(0,i.mount_component)(a,t,s)):a=null}else if(w){const t=131072&o[0]?(0,i.get_spread_update)(A,[(0,i.get_spread_object)(e[17])]):{};a.$set(t)}z&&z.p&&(!y||32&o[1])&&(0,i.update_slot_base)(z,C,e,e[36],y?(0,i.get_slot_changes)(C,e[36],o,be):(0,i.get_all_dirty_from_scope)(e[36]),he),(0,i.set_dynamic_element_data)(e[0].tagName??"div")(t,k=(0,i.get_spread_update)(I,[(!y||1&o[0]&&l!==(l=e[0].type))&&{"data-item-type":l},(!y||1&o[0]&&d!==(d=e[0].id.slice(0,5)))&&{"data-item-id":d},(!y||1&o[0]&&c!==(c=e[0].parentId.slice(0,5)))&&{"data-parent-id":c},(!y||128&o[0]&&u!==(u=!!e[7]||void 0))&&{"data-mon-disabled":u},(!y||1&o[0]&&m!==(m=e[0].id))&&{"data-mon-item-id":m},(!y||4096&o[0]&&p!==(p=e[12]||void 0))&&{"data-selectable-children":p},(!y||8192&o[0]&&_!==(_=e[13]||void 0))&&{"data-selectable":_},{class:"mondrian__item-1HUzZq"},{tabindex:"-1"}])),g&&(0,i.is_function)(g.update)&&129&o[0]&&g.update.call(null,{itemId:e[0].id,enabled:!e[7]}),f&&(0,i.is_function)(f.update)&&1&o[0]&&f.update.call(null,e[0]),(0,i.toggle_class)(t,"mondrian__--debug-TFH4i5",!1),(0,i.toggle_class)(t,"mondrian__--mon-dragging-10pCY8",e[8]),(0,i.toggle_class)(t,"mondrian__--root-3h02pP",e[1]),(0,i.toggle_class)(t,"mondrian__--hidden-2d_DKH",!e[11]),(0,i.toggle_class)(t,"mondrian__--selected-28e9xp",e[5]),(0,i.toggle_class)(t,"mondrian__--dropping-into-J8efi5",e[9]),(0,i.toggle_class)(t,"mondrian__--hover-3W4zna",e[6]),(0,i.toggle_class)(t,"mondrian__--preview-item-2NnT6e",e[4]),(0,i.toggle_class)(t,"mondrian__--clickable-2Dyf8h",e[16]),16384&o[0]&&(0,i.set_style)(t,"--mon-item-border-width",e[14].border?.applied?`${e[14].border?.width.value}px`:"0px"),2097152&o[0]&&(0,i.set_style)(t,"padding",e[21]),134217728&o[0]&&(0,i.set_style)(t,"width",e[27]),67108864&o[0]&&(0,i.set_style)(t,"min-height",e[26]),1048576&o[0]&&(0,i.set_style)(t,"border",e[20]),524288&o[0]&&(0,i.set_style)(t,"border-radius",e[19]),16777216&o[0]&&(0,i.set_style)(t,"top",e[24]),33554432&o[0]&&(0,i.set_style)(t,"left",e[25]),262144&o[0]&&(0,i.set_style)(t,"z-index",e[18])},i(e){y||((0,i.transition_in)(n.$$.fragment,e),(0,i.transition_in)($,e),a&&(0,i.transition_in)(a.$$.fragment,e),(0,i.transition_in)(z,e),y=!0)},o(e){(0,i.transition_out)(n.$$.fragment,e),(0,i.transition_out)($,e),a&&(0,i.transition_out)(a.$$.fragment,e),(0,i.transition_out)(z,e),y=!1},d(o){o&&(0,i.detach)(t),(0,i.destroy_component)(n),$&&$.d(o),a&&(0,i.destroy_component)(a),z&&z.d(o),e[35](null),b=!1,(0,i.run_all)(h)}}}function ze(e){let t,n,o=e[0].tagName??"div",r=(e[0].tagName??"div")&&Ce(e);return{c(){r&&r.c(),t=(0,i.empty)()},m(e,o){r&&r.m(e,o),(0,i.insert)(e,t,o),n=!0},p(e,n){e[0].tagName??"div"?o?(0,i.safe_not_equal)(o,e[0].tagName??"div")?(r.d(1),r=Ce(e),o=e[0].tagName??"div",r.c(),r.m(t.parentNode,t)):r.p(e,n):(r=Ce(e),o=e[0].tagName??"div",r.c(),r.m(t.parentNode,t)):o&&(r.d(1),r=null,o=e[0].tagName??"div")},i(e){n||((0,i.transition_in)(r,e),n=!0)},o(e){(0,i.transition_out)(r,e),n=!1},d(e){e&&(0,i.detach)(t),r&&r.d(e)}}}function Ie({event:e}){return"click"===e}function ke(e,t,n){let o,r,a,s,l,d,c,u,m,p,_,g,f,y,{$$slots:b={},$$scope:h}=t,{item:v}=t,{idx:$=0}=t,{isRoot:A=!1}=t,{ItemComponent:w}=t,{bindTriggers:x=(()=>{})}=t,{stateId:C}=t,{isPreviewItem:z=!1}=t,{isSelected:I=!1}=t,{isHovered:k=!1}=t,{isDisabled:S=!1}=t,{isDragging:E=!1}=t,{isDroppingInto:H=!1}=t,{hoverItem:q=(()=>{})}=t,{visible:M}=t,{selectableChildren:L=!1}=t,{selectable:R=!1}=t;return e.$$set=e=>{"item"in e&&n(0,v=e.item),"idx"in e&&n(28,$=e.idx),"isRoot"in e&&n(1,A=e.isRoot),"ItemComponent"in e&&n(2,w=e.ItemComponent),"bindTriggers"in e&&n(3,x=e.bindTriggers),"stateId"in e&&n(29,C=e.stateId),"isPreviewItem"in e&&n(4,z=e.isPreviewItem),"isSelected"in e&&n(5,I=e.isSelected),"isHovered"in e&&n(6,k=e.isHovered),"isDisabled"in e&&n(7,S=e.isDisabled),"isDragging"in e&&n(8,E=e.isDragging),"isDroppingInto"in e&&n(9,H=e.isDroppingInto),"hoverItem"in e&&n(10,q=e.hoverItem),"visible"in e&&n(11,M=e.visible),"selectableChildren"in e&&n(12,L=e.selectableChildren),"selectable"in e&&n(13,R=e.selectable),"$$scope"in e&&n(36,h=e.$$scope)},e.$$.update=()=>{536870913&e.$$.dirty[0]&&n(14,o=oe(v,C)),16384&e.$$.dirty[0]&&n(27,r=re(o.width)),16384&e.$$.dirty[0]&&n(26,a=re(o.height)),16384&e.$$.dirty[0]&&n(25,s=re(o.x)),16384&e.$$.dirty[0]&&n(24,l=re(o.y)),16384&e.$$.dirty[0]&&n(23,d=o.fill),16384&e.$$.dirty[0]&&n(22,c=o.overlay),16384&e.$$.dirty[0]&&n(21,u=[o.padding.top,o.padding.right,o.padding.bottom,o.padding.left].map(re).join(" ")),16384&e.$$.dirty[0]&&n(20,m=o.border?.applied?`${re(o.border.width)} ${o.border.style} color-mix(in srgb, ${o.border.color} ${100*o.border.opacity}%, transparent)`:void 0),16384&e.$$.dirty[0]&&n(19,p=o.borderRadius.applied?re(o.borderRadius.topLeft):void 0),268435456&e.$$.dirty[0]&&n(18,_=9999-$),536870913&e.$$.dirty[0]&&n(17,g=function(e,t){switch(e){case"text":case"shape":return{item:v,stateId:t};default:return{item:v}}}(v.type,C)),1&e.$$.dirty[0]&&n(16,f=v?.triggers.some(Ie))},[v,A,w,x,z,I,k,S,E,H,q,M,L,R,o,y,f,g,_,p,m,u,c,d,l,s,a,r,$,C,b,function(t){i.bubble.call(this,e,t)},function(t){i.bubble.call(this,e,t)},function(t){i.bubble.call(this,e,t)},function(t){i.bubble.call(this,e,t)},function(e){i.binding_callbacks[e?"unshift":"push"]((()=>{y=e,n(15,y)}))},h]}class Se extends i.SvelteComponent{constructor(e){super(),(0,i.init)(this,e,ke,ze,i.safe_not_equal,{item:0,idx:28,isRoot:1,ItemComponent:2,bindTriggers:3,stateId:29,isPreviewItem:4,isSelected:5,isHovered:6,isDisabled:7,isDragging:8,isDroppingInto:9,hoverItem:10,visible:11,selectableChildren:12,selectable:13},ye,[-1,-1])}}const Ee=Se;function He(e){(0,i.append_styles)(e,"svelte-8e9hww",".mondrian__text-item-base-1VcMVC{display:flex;flex-direction:column;height:100%;min-height:inherit}.mondrian__text-item-base-1VcMVC[data-vertical-align='top']{justify-content:flex-start}.mondrian__text-item-base-1VcMVC[data-vertical-align='middle']{justify-content:center}.mondrian__text-item-base-1VcMVC[data-vertical-align='bottom']{justify-content:flex-end}.mondrian__text-item-base-1VcMVC .tiptap{height:auto}")}const qe=e=>({item:1&e}),Me=e=>({item:e[0]});function Le(e){let t,n,o;const r=e[4].default,a=(0,i.create_slot)(r,e,e[3],Me);return{c(){t=(0,i.element)("div"),a&&a.c(),(0,i.attr)(t,"class","mondrian__text-item-base-1VcMVC"),(0,i.attr)(t,"data-vertical-align",n=e[1].textVerticalAlign)},m(e,n){(0,i.insert)(e,t,n),a&&a.m(t,null),o=!0},p(e,[s]){a&&a.p&&(!o||9&s)&&(0,i.update_slot_base)(a,r,e,e[3],o?(0,i.get_slot_changes)(r,e[3],s,qe):(0,i.get_all_dirty_from_scope)(e[3]),Me),(!o||2&s&&n!==(n=e[1].textVerticalAlign))&&(0,i.attr)(t,"data-vertical-align",n)},i(e){o||((0,i.transition_in)(a,e),o=!0)},o(e){(0,i.transition_out)(a,e),o=!1},d(e){e&&(0,i.detach)(t),a&&a.d(e)}}}function Re(e,t,n){let i,{$$slots:o={},$$scope:r}=t,{item:a}=t,{stateId:s}=t;return e.$$set=e=>{"item"in e&&n(0,a=e.item),"stateId"in e&&n(2,s=e.stateId),"$$scope"in e&&n(3,r=e.$$scope)},e.$$.update=()=>{5&e.$$.dirty&&n(1,i=oe(a,s))},[a,i,s,r,o]}class Ue extends i.SvelteComponent{constructor(e){super(),(0,i.init)(this,e,Re,Le,i.safe_not_equal,{item:0,stateId:2},He)}}const je=Ue;i.SvelteComponent;var Ne=n(2604),Ze=n.n(Ne),Be=n(101),Te=n.n(Be),De=n(5863),Ve=n.n(De),Pe=n(3124),Xe=n.n(Pe),Ke=n(6896),Ye=n.n(Ke),Oe=n(9917),Je=n.n(Oe),Fe=n(4247),We={};We.styleTagTransform=Je(),We.setAttributes=Xe(),We.insert=Ve().bind(null,"head"),We.domAPI=Te(),We.insertStyleElement=Ye(),Ze()(Fe.A,We);const Ge=Fe.A&&Fe.A.locals?Fe.A.locals:void 0;var Qe=n(3948);const et=function(){const e=(0,W.writable)({blockuments:{},items:{},tiptap:{}}),{subscribe:t,set:n,update:i}=e,o=new Map;return{subscribe:t,set:n,update:i,addManifest:(e,t)=>{o.set(e,t),r()},removeManifest:e=>{o.delete(e),r()}};function r(){n(function(...e){const t={};for(const n of e)for(const[e,i]of Object.entries(n))t[e]=Object.assign({},t[e],i);return t}(...o.values()))}}();function tt(e){let t,n;return t=new je({props:{item:e[0],stateId:e[1],$$slots:{default:[nt]},$$scope:{ctx:e}}}),{c(){(0,i.create_component)(t.$$.fragment)},m(e,o){(0,i.mount_component)(t,e,o),n=!0},p(e,n){const i={};1&n&&(i.item=e[0]),2&n&&(i.stateId=e[1]),68&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||((0,i.transition_in)(t.$$.fragment,e),n=!0)},o(e){(0,i.transition_out)(t.$$.fragment,e),n=!1},d(e){(0,i.destroy_component)(t,e)}}}function nt(e){let t,n,o,r=(0,Qe.Z)(e[2],F)+"";return{c(){t=(0,i.element)("div"),n=(0,i.element)("div"),(0,i.attr)(n,"class","tiptap"),(0,i.attr)(t,"class",o=Ge.textItem)},m(e,o){(0,i.insert)(e,t,o),(0,i.append)(t,n),n.innerHTML=r},p(e,t){4&t&&r!==(r=(0,Qe.Z)(e[2],F)+"")&&(n.innerHTML=r)},d(e){e&&(0,i.detach)(t)}}}function it(e){let t,n,o=void 0!==e[2]&&tt(e);return{c(){o&&o.c(),t=(0,i.empty)()},m(e,r){o&&o.m(e,r),(0,i.insert)(e,t,r),n=!0},p(e,[n]){void 0!==e[2]?o?(o.p(e,n),4&n&&(0,i.transition_in)(o,1)):(o=tt(e),o.c(),(0,i.transition_in)(o,1),o.m(t.parentNode,t)):o&&((0,i.group_outros)(),(0,i.transition_out)(o,1,1,(()=>{o=null})),(0,i.check_outros)())},i(e){n||((0,i.transition_in)(o),n=!0)},o(e){(0,i.transition_out)(o),n=!1},d(e){e&&(0,i.detach)(t),o&&o.d(e)}}}function ot(e,t,n){let o,r,a,s;(0,i.component_subscribe)(e,et,(e=>n(5,s=e)));let{item:l}=t,{stateId:d}=t;return e.$$set=e=>{"item"in e&&n(0,l=e.item),"stateId"in e&&n(1,d=e.stateId)},e.$$.update=()=>{3&e.$$.dirty&&n(4,o=l.states[d]),16&e.$$.dirty&&n(3,r=o.text.id),40&e.$$.dirty&&n(2,a=s.tiptap?.[r])},[l,d,a,r,o,s]}class rt extends i.SvelteComponent{constructor(e){super(),(0,i.init)(this,e,ot,it,i.safe_not_equal,{item:0,stateId:1})}}const at=rt;function st(e){(0,i.append_styles)(e,"svelte-1vwx6yd",".mondrian__surface-3PSuzl{width:100%;position:relative}")}function lt(e,t,n){const i=e.slice();return i[5]=t[n],i[7]=n,i}function dt(e,t){let n,o,r,a;var s=t[0];function l(e,t){return{props:{idx:e[7],itemId:e[5].id}}}return s&&(o=(0,i.construct_svelte_component)(s,l(t))),{key:e,first:null,c(){n=(0,i.empty)(),o&&(0,i.create_component)(o.$$.fragment),r=(0,i.empty)(),this.first=n},m(e,t){(0,i.insert)(e,n,t),o&&(0,i.mount_component)(o,e,t),(0,i.insert)(e,r,t),a=!0},p(e,n){if(t=e,1&n&&s!==(s=t[0])){if(o){(0,i.group_outros)();const e=o;(0,i.transition_out)(e.$$.fragment,1,0,(()=>{(0,i.destroy_component)(e,1)})),(0,i.check_outros)()}s?(o=(0,i.construct_svelte_component)(s,l(t)),(0,i.create_component)(o.$$.fragment),(0,i.transition_in)(o.$$.fragment,1),(0,i.mount_component)(o,r.parentNode,r)):o=null}else if(s){const e={};2&n&&(e.idx=t[7]),2&n&&(e.itemId=t[5].id),o.$set(e)}},i(e){a||(o&&(0,i.transition_in)(o.$$.fragment,e),a=!0)},o(e){o&&(0,i.transition_out)(o.$$.fragment,e),a=!1},d(e){e&&((0,i.detach)(n),(0,i.detach)(r)),o&&(0,i.destroy_component)(o,e)}}}function ct(e){let t,n,o=[],r=new Map,a=(0,i.ensure_array_like)(e[1].children);const s=e=>e[5].id;for(let t=0;t<a.length;t+=1){let n=lt(e,a,t),i=s(n);r.set(i,o[t]=dt(i,n))}return{c(){t=(0,i.element)("div");for(let e=0;e<o.length;e+=1)o[e].c();(0,i.attr)(t,"class","mondrian__surface-3PSuzl")},m(e,r){(0,i.insert)(e,t,r);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);n=!0},p(e,[n]){3&n&&(a=(0,i.ensure_array_like)(e[1].children),(0,i.group_outros)(),o=(0,i.update_keyed_each)(o,n,s,1,e,a,r,t,i.outro_and_destroy_block,dt,null,lt),(0,i.check_outros)())},i(e){if(!n){for(let e=0;e<a.length;e+=1)(0,i.transition_in)(o[e]);n=!0}},o(e){for(let e=0;e<o.length;e+=1)(0,i.transition_out)(o[e]);n=!1},d(e){e&&(0,i.detach)(t);for(let e=0;e<o.length;e+=1)o[e].d()}}}function ut(e,t,n){let o,r,{item:a}=t,{Item:s=bt}=t;const l=Q.get(a.id);return(0,i.component_subscribe)(e,l,(e=>n(4,r=e))),e.$$set=e=>{"item"in e&&n(3,a=e.item),"Item"in e&&n(0,s=e.Item)},e.$$.update=()=>{24&e.$$.dirty&&n(1,o=a.states[r])},[s,o,l,a,r]}class mt extends i.SvelteComponent{constructor(e){super(),(0,i.init)(this,e,ut,ct,i.safe_not_equal,{item:3,Item:0},st)}}const pt=mt,_t=(e,t)=>{function n(n,i={}){t.triggers.filter((e=>e.event===n)).forEach((n=>{!function(e,t,n){t.dispatchEvent(new CustomEvent("trigger",{detail:n,bubbles:!0}))}(0,e,{itemId:t.id,triggerId:n.id,...i})}))}const i=[...new Set(t.triggers.map((e=>e.event)))].map((t=>"hover"===t?[ne("mouseenter",e,(()=>{n(t,{hovered:!0})})),ne("mouseleave",e,(()=>{n(t,{hovered:!1})}))]:ne(t,e,(()=>{n(t)})))).flat(2).filter(Boolean);return{destroy(){i.forEach((e=>{e()}))}}};function gt(e){let t,n;return t=new Ee({props:{item:e[2],idx:e[0],isRoot:e[1],stateId:e[5],ItemComponent:e[4],bindTriggers:_t,visible:e[6]}}),{c(){(0,i.create_component)(t.$$.fragment)},m(e,o){(0,i.mount_component)(t,e,o),n=!0},p(e,[n]){const i={};4&n&&(i.item=e[2]),1&n&&(i.idx=e[0]),2&n&&(i.isRoot=e[1]),32&n&&(i.stateId=e[5]),16&n&&(i.ItemComponent=e[4]),64&n&&(i.visible=e[6]),t.$set(i)},i(e){n||((0,i.transition_in)(t.$$.fragment,e),n=!0)},o(e){(0,i.transition_out)(t.$$.fragment,e),n=!1},d(e){(0,i.destroy_component)(t,e)}}}function ft(e,t,n){let o,r,a,s,d,c,u=i.noop;(0,i.component_subscribe)(e,et,(e=>n(9,s=e))),e.$$.on_destroy.push((()=>u()));let{itemId:m}=t,{idx:p=0}=t,{isRoot:_=!1}=t;const g=te.get(m);return(0,i.component_subscribe)(e,g,(e=>n(6,c=e))),e.$$set=e=>{"itemId"in e&&n(8,m=e.itemId),"idx"in e&&n(0,p=e.idx),"isRoot"in e&&n(1,_=e.isRoot)},e.$$.update=()=>{768&e.$$.dirty&&n(2,o=s.items[m]),4&e.$$.dirty&&n(4,r=(e=>({image:()=>l,text:()=>at,group:()=>pt,shape:()=>at}[e.type]()))(o)),4&e.$$.dirty&&(n(3,a=Q.get(o.id)),u(),u=(0,i.subscribe)(a,(e=>n(5,d=e))))},[p,_,o,a,r,d,c,g,m,s]}class yt extends i.SvelteComponent{constructor(e){super(),(0,i.init)(this,e,ft,gt,i.safe_not_equal,{itemId:8,idx:0,isRoot:1})}}const bt=yt;n(2466);var ht=n(9205);const vt=n.n(ht)()("mondrian").extend("keyboard"),$t=Object.freeze(["Alt","Control","Meta","Shift"]),At={activeModifierKeys:new Set,get alt(){return At.activeModifierKeys.has("Alt")},get meta(){return At.activeModifierKeys.has("Meta")||At.activeModifierKeys.has("Control")},get shift(){return At.activeModifierKeys.has("Shift")},key:void 0,get combo(){return[At.meta&&"Meta",At.alt&&"Alt",At.shift&&"Shift",At.key].filter(Boolean).join("+")}},wt={...(0,W.readable)(At,(e=>{function t(t){const n="keydown"===t.type,{key:i}=t;$t.includes(i)?n?At.activeModifierKeys.add(i):(At.activeModifierKeys.delete(i),At.key=void 0):At.key=n?i:void 0,e(At)}return window.addEventListener("keydown",t),window.addEventListener("keyup",t),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",t)}})),is:e=>(At.combo&&vt(`comparing keycombos, store: ${At.combo}, comparison: ${e}`),At.combo.toLowerCase()===e.toLowerCase()),on(e,t){const n=n=>{wt.is(e)&&(vt("keyCombo matched, executing handler",e),t(n))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},reset(){At.activeModifierKeys.clear(),At.key=void 0}},xt={down:!1,downX:-1,downY:-1,target:void 0,x:-1,y:-1},Ct=((0,W.readable)(xt,(e=>{return window.addEventListener("mousedown",t),window.addEventListener("mousemove",i),window.addEventListener("mouseup",n),function(){window.removeEventListener("mousedown",t),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",n)};function t(e){xt.down=!0,xt.downX=xt.x=e.clientX,xt.downY=xt.y=e.clientY,xt.target=e.target,o()}function n(){xt.down=!1,xt.downX=xt.x=xt.downY=xt.y=-1,xt.target=void 0,o()}function i(e){xt.x=e.x,xt.y=e.y,o()}function o(){e(xt)}})),"mondrian-suspense");function zt(e){(0,i.append_styles)(e,"svelte-1ooljvd",".mondrian__suspense-3tgPBN.mondrian__--loading-3irTkJ{visibility:hidden}")}i.SvelteComponent,n(9777),i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,n(2732),i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent,i.SvelteComponent;const It=e=>({isLoading:1&e}),kt=e=>({isLoading:e[0]});function St(e){let t,n;const o=e[2].default,r=(0,i.create_slot)(o,e,e[1],kt);return{c(){t=(0,i.element)("div"),r&&r.c(),(0,i.attr)(t,"class","mondrian__suspense-3tgPBN"),(0,i.toggle_class)(t,"mondrian__--loading-3irTkJ",e[0])},m(e,o){(0,i.insert)(e,t,o),r&&r.m(t,null),n=!0},p(e,[a]){r&&r.p&&(!n||3&a)&&(0,i.update_slot_base)(r,o,e,e[1],n?(0,i.get_slot_changes)(o,e[1],a,It):(0,i.get_all_dirty_from_scope)(e[1]),kt),(!n||1&a)&&(0,i.toggle_class)(t,"mondrian__--loading-3irTkJ",e[0])},i(e){n||((0,i.transition_in)(r,e),n=!0)},o(e){(0,i.transition_out)(r,e),n=!1},d(e){e&&(0,i.detach)(t),r&&r.d(e)}}}function Et(e,t,n){let{$$slots:i={},$$scope:o}=t;const r=function(){const e=new Set;return(0,d.setContext)(Ct,e),e}();let a=!0;return(0,d.onMount)((()=>{Promise.all(r).then((()=>{n(0,a=!1)}))})),e.$$set=e=>{"$$scope"in e&&n(1,o=e.$$scope)},[a,o,i]}class Ht extends i.SvelteComponent{constructor(e){super(),(0,i.init)(this,e,Et,St,i.safe_not_equal,{},zt)}}const qt=Ht;i.SvelteComponent,i.SvelteComponent;const Mt={[H](e,t,n,i){const o="self"===e.targetId?n:i[e.targetId];!1===t.hovered?Q.get(o.id)?.revert():Q.get(o.id)?.set(e.targetState)},[q](e,t,n,i){const o="self"===e.targetId?n:i[e.targetId];!1===t.hovered?te.get(o.id)?.set(!e.targetVisibility):te.get(o.id)?.set(e.targetVisibility)}},Lt=(e,t)=>{const n=ne("trigger",e,(e=>{const{itemId:n,triggerId:i,...o}=e.detail,r=t[n];if(!r)throw new Error(`Could not execute trigger ${i} on item ${n} because the item could not be found.`);const a=r?.triggers.find((e=>e.id===i));if(!a)throw new Error(`Could not execute trigger ${i} on item ${n} because the trigger could not be found.`);const s=Mt[a.action];if(!s)throw new Error(`Could not execute trigger ${i} on item ${n} because an appropriate handler for its '${a.action}' action could not be found.`);s(a,o,r,t)}));return{destroy(){n()}}};function Rt(e){(0,i.append_styles)(e,"svelte-c9d0p3",".mondrian__preview-2O3gXR{display:flex;justify-content:center;position:relative;z-index:0;overflow:hidden}.mondrian__preview--empty-37mLUA{background-color:var(--art-color-neutral-050)}")}function Ut(e){let t,n;return t=new qt({props:{$$slots:{default:[Nt]},$$scope:{ctx:e}}}),{c(){(0,i.create_component)(t.$$.fragment)},m(e,o){(0,i.mount_component)(t,e,o),n=!0},p(e,n){const i={};258&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||((0,i.transition_in)(t.$$.fragment,e),n=!0)},o(e){(0,i.transition_out)(t.$$.fragment,e),n=!1},d(e){(0,i.destroy_component)(t,e)}}}function jt(e){let t,n,o,r;return{c(){t=(0,i.element)("div"),n=(0,i.text)("Block "),o=(0,i.text)(e[0]),r=(0,i.text)(" could not be loaded")},m(e,a){(0,i.insert)(e,t,a),(0,i.append)(t,n),(0,i.append)(t,o),(0,i.append)(t,r)},p(e,t){1&t&&(0,i.set_data)(o,e[0])},i:i.noop,o:i.noop,d(e){e&&(0,i.detach)(t)}}}function Nt(e){let t,n,o,r,a,s;return n=new bt({props:{itemId:e[7].id,isRoot:!0}}),{c(){t=(0,i.element)("div"),(0,i.create_component)(n.$$.fragment),(0,i.attr)(t,"class","mondrian__preview-2O3gXR"),(0,i.toggle_class)(t,"mondrian__preview--empty-37mLUA",e[1])},m(l,d){(0,i.insert)(l,t,d),(0,i.mount_component)(n,t,null),r=!0,a||(s=(0,i.action_destroyer)(o=Lt.call(null,t,e[3])),a=!0)},p(e,n){(!r||2&n)&&(0,i.toggle_class)(t,"mondrian__preview--empty-37mLUA",e[1])},i(e){r||((0,i.transition_in)(n.$$.fragment,e),r=!0)},o(e){(0,i.transition_out)(n.$$.fragment,e),r=!1},d(e){e&&(0,i.detach)(t),(0,i.destroy_component)(n),a=!1,s()}}}function Zt(e){let t,n,o,r;const a=[jt,Ut],s=[];function l(e,t){return 1===t?function(e){const t=e.slice(),n=t[3][t[4]];return t[7]=n,t}(e):e}return t=function(e,t){return void 0===e[2]||void 0===e[4]?0:1}(e),n=s[t]=a[t](l(e,t)),{c(){n.c(),o=(0,i.empty)()},m(e,n){s[t].m(e,n),(0,i.insert)(e,o,n),r=!0},p(e,[i]){n.p(l(e,t),i)},i(e){r||((0,i.transition_in)(n),r=!0)},o(e){(0,i.transition_out)(n),r=!1},d(e){e&&(0,i.detach)(o),s[t].d(e)}}}function Bt(e,t,n){let i,{manifest:o}=t,{blockumentId:r}=t;const a=Symbol("LearnComponent"),s=o.blockuments?.[r],l=o.items??{},c=s?.children[0]?.id;return et.addManifest(a,o),Object.values(l).forEach((e=>{Q.add(e.id,(0,W.readable)(e.initialState)),te.add(e.id,(0,W.readable)(e.initialVisible))})),(0,d.onMount)((()=>{Q.resetAll(),te.resetAll()})),(0,d.onDestroy)((()=>{et.removeManifest(a)})),e.$$set=e=>{"manifest"in e&&n(5,o=e.manifest),"blockumentId"in e&&n(0,r=e.blockumentId)},n(1,i=1===Object.keys(l).length),[r,i,s,l,c,o]}class Tt extends i.SvelteComponent{constructor(e){super(),(0,i.init)(this,e,Bt,Zt,i.safe_not_equal,{manifest:5,blockumentId:0},Rt)}}const Dt=Tt;var Vt=n(2834),Pt=n.n(Vt);const Xt=((e,t={},n="div")=>i=>{const o=(0,Vt.useRef)(null),r=(0,Vt.useRef)(null),[a,s]=(0,Vt.useState)(!1);return(0,Vt.useEffect)((()=>{const t=/on([A-Z]{1,}[a-zA-Z]*)/,n=/watch([A-Z]{1,}[a-zA-Z]*)/;r.current=new e({target:o.current,props:i});const a=[];for(const e in i){const o=e.match(t),s=e.match(n);null!=o&&"function"==typeof i[e]&&r.current.$on(`${o[1][0].toLowerCase()}${o[1].slice(1)}`,i[e]),null!=s&&"function"==typeof i[e]&&a.push([`${s[1][0].toLowerCase()}${s[1].slice(1)}`,i[e]])}if(a.length>0){const e=r.current.$$.update;r.current.$$.update=function(){a.forEach((([e,t])=>{if(null!==r.current){const n=r.current.$$.props[e];t(r.current.$$.ctx[n])}})),e.apply(null)}}return()=>{null!==r.current&&r.current.$destroy()}}),[i]),(0,Vt.useEffect)((()=>{a?null!==r.current&&r.current.$set(i):s(!0)}),[i,a]),Pt().createElement(n,{ref:o,style:t})})(Dt),Kt=e=>Pt().createElement(Xt,{...e})}}]);
//# sourceMappingURL=5e44a0b2.js.map